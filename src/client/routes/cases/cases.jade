.cases
  h1 cases
  .controls
    .left
      .sort Order By:
        a.order-item(href='', ng-click='sort="-LastUpdated"', ng-class='{selected:sort==="-LastUpdated"}') Last updated
        a.order-item(href='', ng-click='sort="-case.offer.DateTime"', ng-class='{selected:sort==="-case.offer.DateTime"}') Offer accepted date
      .show Show:
        a.filter-item.icon-green(href='', ng-click='filter="completed"', ng-class='{selected:filter==="completed"}') Up-to-date
        a.filter-item.icon-red(href='', ng-click='filter="progressing"', ng-class='{selected:filter==="progressing"}') Needs updating
        a.filter-item(href='', ng-click='filter=""', ng-class='{selected:!filter}') All
    .right
      .search
        input(type='text', ng-model='search')
  table.table.table-responsive
    thead
      tr
        th Milestone Status
        th Property Address
        th Vendor
        th Purchaser
        th Options
    tbody(ng-repeat='property in getProperties() | filter:search | filter:{milestoneBuyerStatus:filter} | orderBy:sort')
      tr(ng-click='property.open = !property.open')
        td.milestone
          .progression-item(ng-class='property.cssMilestoneBuyer', title='{{property.milestoneBuyer.title}}')
            .icon
            .title {{property.milestoneBuyer.title}}
        td
          .address {{property.Address.Number}} {{property.Address.Street }}, {{property.Address.Locality }}, {{property.Address.Town}}
          .dates(ng-show='property.open')
            .date Last Updated: 
              strong {{property.LastUpdated | timeAgo}} 
              | -- {{property.LastUpdated | date:'mediumDate'}}, {{property.LastUpdated | date:'mediumTime'}}
            .date Date added to the Case: 1 week ago
            .date Start Date: 11th Jan 2017
        td.vendor {{property.case.vendor}}
        td.purchaser {{property.case.purchaser}}
        td.options
          a.button(href='{{property.RoleId}}/case') View Case
  